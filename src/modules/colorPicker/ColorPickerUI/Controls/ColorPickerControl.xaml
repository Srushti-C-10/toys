<UserControl
    x:Class="ColorPicker.Controls.ColorPickerControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ColorPicker.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:p="clr-namespace:ColorPicker.Properties"
    xmlns:ui="http://schemas.modernwpf.com/2019"
    Width="333"
    Height="350"
    mc:Ignorable="d">
    <StackPanel
        x:Name="PickerPanel"
        Background="{x:Null}"
        Orientation="Vertical">
        <!--  Top panel  -->
        <Grid Margin="12,0,12,0" HorizontalAlignment="Stretch">
            <Grid.Effect>
                <DropShadowEffect
                    BlurRadius="6"
                    Opacity="0.32"
                    ShadowDepth="2" />
            </Grid.Effect>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="36" />
                <ColumnDefinition Width="36" />
                <ColumnDefinition Width="165" />
                <ColumnDefinition Width="36" />
                <ColumnDefinition Width="36" />
            </Grid.ColumnDefinitions>

            <Button
                x:Name="colorVariation1Button"
                Grid.Column="0"
                ui:ControlHelper.CornerRadius="2,0,0,2"
                AutomationProperties.Name="Color shade 1"
                Background="LightPink"
                Click="ColorVariationButton_Click"
                Style="{DynamicResource ColorShadeButtonStyle}"
                TabIndex="4"
                ToolTipService.ToolTip="{x:Static p:Resources.Select_color}" />
            <Button
                x:Name="colorVariation2Button"
                Grid.Column="1"
                ui:ControlHelper.CornerRadius="0"
                AutomationProperties.Name="Color shade 2"
                Background="LightPink"
                Click="ColorVariationButton_Click"
                Style="{DynamicResource ColorShadeButtonStyle}"
                TabIndex="5"
                ToolTipService.ToolTip="{x:Static p:Resources.Select_color}" />
            <Button
                x:Name="colorVariation3Button"
                Grid.Column="3"
                ui:ControlHelper.CornerRadius="0"
                AutomationProperties.Name="Color shade 3"
                Background="LightPink"
                Click="ColorVariationButton_Click"
                Style="{DynamicResource ColorShadeButtonStyle}"
                TabIndex="7"
                ToolTipService.ToolTip="{x:Static p:Resources.Select_color}" />
            <Button
                x:Name="colorVariation4Button"
                Grid.Column="4"
                ui:ControlHelper.CornerRadius="0,2,2,0"
                AutomationProperties.Name="Color shade 5"
                Background="LightPink"
                Click="ColorVariationButton_Click"
                Style="{DynamicResource ColorShadeButtonStyle}"
                TabIndex="8"
                ToolTipService.ToolTip="{x:Static p:Resources.Select_color}" />
            <Button
                x:Name="CurrentColorButton"
                Grid.Column="0"
                Grid.ColumnSpan="5"
                Width="165"
                Height="48"
                Margin="72,0,0,0"
                HorizontalAlignment="Left"
                ui:ControlHelper.CornerRadius="0"
                AutomationProperties.HelpText="{x:Static p:Resources.Selected_color_helptext}"
                AutomationProperties.Name="{x:Static p:Resources.Selected_color}"
                Background="Red"
                Click="CurrentColorButton_Click"
                Opacity="1"
                Style="{DynamicResource ColorShadeButtonStyle}"
                TabIndex="6"
                ToolTipService.ToolTip="{x:Static p:Resources.Selected_color_tooltip}" />
        </Grid>

        <!--  Details panel  -->
        <Grid
            x:Name="detailsGrid"
            Height="0"
            Margin="0,4,0,12"
            Visibility="Collapsed">
            <Border Background="{DynamicResource PrimaryBackgroundBrush}" />
            <StackPanel x:Name="detailsStackPanel" Opacity="0">

                <Grid Margin="12,0,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="36" />
                        <RowDefinition Height="36" />
                        <RowDefinition Height="36" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        Margin="0,10,0,0"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="H" />

                    <Border
                        x:Name="HueGradientGrid"
                        Grid.Column="1"
                        Width="289"
                        Height="24"
                        Margin="0,12,12,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        AutomationProperties.Name="{x:Static p:Resources.Hue_slider}"
                        CornerRadius="2"
                        MouseLeftButtonDown="HueGradientGrid_MouseLeftButtonDown"
                        MouseMove="HueGradientGrid_MouseMove">
                        <Border.Effect>
                            <DropShadowEffect
                                BlurRadius="6"
                                Opacity="0.32"
                                ShadowDepth="2" />
                        </Border.Effect>
                        <Border
                            x:Name="hueGradientPointer"
                            Width="6"
                            Margin="154,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Background="#88FFFFFF"
                            BorderBrush="Black"
                            BorderThickness="1"
                            CornerRadius="2" />
                    </Border>

                    <TextBlock
                        Grid.Row="1"
                        Margin="0,10,0,0"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="S" />

                    <Border
                        x:Name="SaturationGradientGrid"
                        Grid.Row="1"
                        Grid.Column="1"
                        Width="289"
                        Height="24"
                        Margin="0,12,12,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        AutomationProperties.Name="{x:Static p:Resources.Saturation_slider}"
                        CornerRadius="2"
                        MouseLeftButtonDown="SaturationGradientGrid_MouseLeftButtonDown"
                        MouseMove="SaturationGradientGrid_MouseMove">
                        <Border.Effect>
                            <DropShadowEffect
                                BlurRadius="6"
                                Opacity="0.32"
                                ShadowDepth="2" />
                        </Border.Effect>
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0, 0.5" EndPoint="1,0.5">
                                <GradientStop x:Name="SaturationStartColor" Color="Black" />
                                <GradientStop x:Name="SaturationStopColor" Offset="1" Color="Red" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Border
                            x:Name="saturationGradientPointer"
                            Width="6"
                            Margin="154,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Background="#88FFFFFF"
                            BorderBrush="Black"
                            BorderThickness="1"
                            CornerRadius="2" />
                    </Border>

                    <TextBlock
                        Grid.Row="2"
                        Margin="0,10,0,0"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="V" />

                    <Border
                        x:Name="ValueGradientGrid"
                        Grid.Row="2"
                        Grid.Column="1"
                        Width="289"
                        Height="24"
                        Margin="0,12,12,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        AutomationProperties.Name="{x:Static p:Resources.Value_slider}"
                        CornerRadius="2"
                        MouseLeftButtonDown="ValueGradientGrid_MouseLeftButtonDown"
                        MouseMove="ValueGradientGrid_MouseMove">
                        <Border.Effect>
                            <DropShadowEffect
                                BlurRadius="6"
                                Opacity="0.32"
                                ShadowDepth="2" />
                        </Border.Effect>
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0, 0.5" EndPoint="1,0.5">
                                <GradientStop x:Name="ValueStartColor" Color="Red" />
                                <GradientStop x:Name="ValueStopColor" Offset="1" Color="White" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Border
                            x:Name="valueGradientPointer"
                            Width="6"
                            Margin="154,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Stretch"
                            Background="#88FFFFFF"
                            BorderBrush="Black"
                            BorderThickness="1"
                            CornerRadius="2" />
                    </Border>
                </Grid>

                <Grid Margin="12,16,12,8" HorizontalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="86" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="36" />
                        <RowDefinition Height="36" />
                        <RowDefinition Height="36" />
                    </Grid.RowDefinitions>

                    <TextBlock
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="R" />
                    <ui:NumberBox
                        x:Name="RNumberBox"
                        Grid.Column="1"
                        Height="32"
                        AutomationProperties.Name="{x:Static p:Resources.Red_value}"
                        Maximum="255"
                        Minimum="0"
                        ValueChanged="RGBNumberBox_ValueChanged" />

                    <TextBlock
                        Grid.Row="1"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="G" />

                    <ui:NumberBox
                        x:Name="GNumberBox"
                        Grid.Row="1"
                        Grid.Column="1"
                        Height="32"
                        AutomationProperties.Name="{x:Static p:Resources.Green_value}"
                        Maximum="255"
                        Minimum="0"
                        ValueChanged="RGBNumberBox_ValueChanged" />

                    <TextBlock
                        Grid.Row="2"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="B" />

                    <ui:NumberBox
                        x:Name="BNumberBox"
                        Grid.Row="2"
                        Grid.Column="1"
                        Height="32"
                        AutomationProperties.Name="{x:Static p:Resources.Blue_value}"
                        Maximum="255"
                        Minimum="0"
                        ValueChanged="RGBNumberBox_ValueChanged" />

                    <TextBlock
                        Grid.Column="2"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        FontWeight="SemiBold"
                        Text="HEX" />
                    <TextBox
                        x:Name="HexCode"
                        Grid.Column="3"
                        Height="32"
                        Margin="8,0,0,0"
                        HorizontalAlignment="Stretch"
                        AutomationProperties.Name="{x:Static p:Resources.Hex_value}"
                        GotKeyboardFocus="HexCode_GotKeyboardFocus"
                        TextChanged="HexCode_TextChanged"
                        TextWrapping="Wrap" />
                </Grid>
                <WrapPanel
                    Margin="0,0,0,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top">
                    <Button
                        x:Name="CancelButton"
                        Width="80"
                        AutomationProperties.Name="{x:Static p:Resources.Cancel}"
                        Click="CancelButton_Click"
                        Content="{x:Static p:Resources.Cancel}" />
                    <Button
                        x:Name="OKButton"
                        Width="80"
                        Margin="12,0,12,0"
                        AutomationProperties.Name="{x:Static p:Resources.OK}"
                        Click="OKButton_Click"
                        Content="{x:Static p:Resources.OK}"
                        Style="{StaticResource AccentButtonStyle}" />
                </WrapPanel>
            </StackPanel>
        </Grid>
    </StackPanel>
</UserControl>
